<!-- tpl:insert page="/theme/home.htpl" --><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type"
	content="text/html; charset=ANSI_X3.4-1968">
<meta name="GENERATOR" content="IBM WebSphere Studio">
<link rel="stylesheet" href="/presence/theme/blue.css" type="text/css">
<!-- tpl:put name="head" --><!-- /tpl:put -->
<!-- siteedit:navtrail target="home,parent,ancestor,self" separator="&gt;" start="[" end="]" spec="/presence/theme/trail.html" -->
<TITLE>Projects &gt; Castor Plug-in for Eclipse &gt; About </TITLE>
<!-- /siteedit:navtrail -->
</head>
<body>
<a href="/presence/home/index.html"><img border="0"
	src="/presence/theme/banner.png" width="604" height="45"
	alt="pnehrer.com"></a>
<div class="content">
<div class="leftnav"><!-- siteedit:navbar target="sibling,self,children,ancestor,topchildren" spec="/presence/theme/leftnav.html" targetlevel="2-3" onlychilden="true" -->
<div class="tabi1"></div>
<div class="tabi1"><a href="/presence/home/index.html"><img src="/presence/theme/icons/folder_home.png" border="0" align="bottom"> Home</a></div>
<div class="tabi1"><span style="font-weight: bolder"><a href="/presence/projects/index.html"><img src="/presence/theme/icons/exec.png" border="0" align="bottom"> Projects</a></span></div>
<div class="tabi2"><span style="font-weight: bolder"><a href="/presence/projects/cep/index.html"><img src="/presence/theme/icons/folder_blue_open.png" border="0" align="bottom"> Castor Plug-in for Eclipse</a></span></div>
<div class="tabi3"><a href="/presence/projects/cep/news.html"><img src="/presence/theme/icons/news.png" border="0" align="bottom"> News</a></div>
<div class="tabi3"><a href="/presence/projects/cep/download.html"><img src="/presence/theme/icons/down.png" border="0" align="bottom"> Download</a></div>
<div class="taba"><div class="taba3"><img src="/presence/theme/icons/info.png" border="0" align="bottom"> About</div></div>
<div class="tabi3"><a href="/presence/projects/cep/usage.html"><img src="/presence/theme/icons/unknown.png" border="0" align="bottom"> Usage</a></div>
<div class="tabi3"><a href="/presence/projects/cep/ramblings.html"><img src="/presence/theme/icons/unknown.png" border="0" align="bottom"> Ramblings</a></div>
<div class="tabi2"><a href="/presence/projects/jelly4eclipse/index.html"><img src="/presence/theme/icons/folder_blue_open.png" border="0" align="bottom"> Eclipse Scripting</a></div>
<div class="tabi1"></div>
<!-- /siteedit:navbar --></div>
<!-- tpl:put name="body" -->
					<h1>About Castor Plug-in for Eclipse</h1><p>I started this project for three primary reasons: 1). I
wanted to learn more about building Eclipse plug-ins,
specifically
incremental builders, 2). I needed to use Castor at times as part of my
work project, and 3). it seemed the simplest of the choices.</p>
            <p>The goal of this project is, at least initially, quite
simple: To integrate Castor generation of XML-marshalling Java code
based on XML Schema files into the Eclipse IDE. Why not just use Ant?
Many tools today use Ant as their "platform." Ant is a simple yet
powerful tool that gets the job done. In its simplicity and portability
it is equivalent to shell scripting on Unix platforms. However, Ant
tasks are not easy to integrate with other tools. Ant has to pretty
much
run in its own sandbox; you tell it what to do, and wait for the
results. It is rather difficult to interact with in a flexible way (it
is after all primarily meant as a command-line tool). Eclipse supports
Ant "integration", but it doesn't really integrate well into the IDE.
For all intents and purposes, it is just another external tool. On the
other hand, Eclipse provides, in my opinion, a great framework for
incremental building. Because of its extensive resource tracking
capabilities, incremental builds are made possible with a proper
builder
support. This decreases the overall build time and streamlines the
development process; the code is always up-to-date.</p>
            <p>Unfortunately, creating incremental builders that
seamlessly plug into the Eclipse IDE is not all that straightforward.
One prerequisite is a full control over the production (i.e., code
generation, for instance) process; it is not sufficient to just kick it
off. The builder must "understand" what the external generator is
trying
to do. What files are created, deleted, or modified? Are there
dependencies between the sources? Not many builders expose their
internals to this degree. The same is the case with Castor. In order to
be kept up-to-date on what files are generated (and not having to
refresh the entire workspace, which would defy the purpose of an
incremental builder entirely), I had to slightly modify the
SourceGenerator class to notify an even listener, optionally provided
by
the caller, of the generated files. The builder then registers itself
as
the listener and thus keeps track of what files are being created.
After
each run, the list of generated files is preserved and used in the next
run in determining what files need to be removed from workspace as a
result of the XML Schema change.</p>
            <p>This release of the plug-in achieved its mission; I can
edit XML Schema files and automagically get Castor-generated XML
marshalling code. However, the future clearly lies in a custom source
generator built around Eclipse; instead of using Castor's source
generator, which writes strings into Java files, a native Eclipse
generator would construct IJavaElements (i.e., JDT-based AST nodes).
The
EMF project has its own clever generator framework. However, it is
still
text/template based. I believe that when we generate Java code, we
don't
really care about text; we really need it to mean something. Why not
then generate the abstract syntax itself? It would be, however, quite
an
undertaking and would likely duplicate the efforts unless integrated
into Castor codebase. Also, such parallel development effort would
likely prove to be a maintenance nightmare.</p>
            <p>I'm not entirely convinced that wrapping external
builders or source generators as incremental builders is the best idea;
unless the builder itself is extremely open, you'd certainly end up
rewriting it from scratch. In the future, I'm planning to tackle RMI
Compiler based on Sun's implementation. Avoiding reinventing of the
whole generator will be quite a challenge, as the one provided by Sun
has its own "batch environment." And if that doesn't teach me, I'll try
to develop support for XDoclets as well...</p>

            <p>If you're wondering why this project is hosted under
another project (xdoclipse)... Well, I tend to create way too many
SourceForge projects that I never quite finish. If and when there is
any
interest in this plug-in (and participation, of course), I will create
a
separate project for it.</p><!-- /tpl:put --></div>
<div class="footer"><!-- tpl:insert page="/footer.html" -->Copyright &copy; 2003 <a href="mailto:pnehrer@freeshell.org">Peter Nehrer</a>.<br>Version $Id$.<!-- /tpl:insert --></div>
</body>
</html>
<!-- /tpl:insert -->